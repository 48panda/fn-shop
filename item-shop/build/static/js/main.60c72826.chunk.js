(this["webpackJsonpitem-shop"]=this["webpackJsonpitem-shop"]||[]).push([[0],{39:function(e,t,s){},40:function(e,t,s){},41:function(e,t,s){},42:function(e,t,s){},43:function(e,t,s){},44:function(e,t,s){},45:function(e,t,s){},46:function(e,t,s){},47:function(e,t,s){},48:function(e,t,s){},49:function(e,t,s){},50:function(e,t,s){},51:function(e,t,s){},52:function(e,t,s){},55:function(e,t,s){},56:function(e,t,s){},57:function(e,t,s){},58:function(e,t,s){},64:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),i=s(32),r=s.n(i),c=(s(39),s(40),s(41),s(42),s(43),s(44),s(45),s(46),s(47),s(48),s(49),s(50),s(51),s(52),s.p,s.p,s.p,s.p,s(23)),o=s(3),l=s(4),d=s(6),p=s(5),h=s(68),u=s(15),j=Object(u.a)(),f=s(11),b=s.n(f),m=s(9),O=s(17),g=s(8),x=s(0),v=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).linkClicked=e.linkClicked.bind(Object(g.a)(e)),e}return Object(l.a)(s,[{key:"linkClicked",value:function(e){e.preventDefault(),j.push(this.props.href)}},{key:"render",value:function(){return Object(x.jsx)("a",{onClick:this.linkClicked,href:this.props.href,className:this.props.className,style:this.props.style,children:this.props.children})}}]),s}(a.Component),y=s(13),k=s.n(y),w=(s(55),function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(x.jsx)("div",{className:"tabs",children:Object(x.jsxs)("div",{className:"tabin",children:[Object(x.jsx)(v,{href:"/options",className:"settings"===this.props.selected?"active":"",children:Object(x.jsx)("p",{children:"settings"})}),Object(x.jsx)(v,{href:"/",className:"shop"===this.props.selected?"active":"",children:Object(x.jsx)("p",{children:"item shop"})}),Object(x.jsx)(v,{href:"/locker",className:"locker"===this.props.selected?"active":"",children:Object(x.jsx)("p",{children:"locker"})}),Object(x.jsx)(v,{href:"/bp",className:"bp"===this.props.selected?"active":"",children:Object(x.jsx)("p",{children:"battle pass"})})]})})}}]),s}(a.Component)),S=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).state={data:null},a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=Object(O.a)(b.a.mark((function e(){var t=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.a.getJSON("/bp".concat(this.props.pass,".json")).then((function(e){t.setState({data:e,maxtier:Math.max.apply(Math,Object(m.a)(e.rewards.map((function(e){return e.tier}))))})}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.data?Object(x.jsx)("div",{children:Object(x.jsxs)("p",{children:[this.state.data.displayInfo.chapterSeason,". Max tier:",this.state.maxtier,Object(x.jsx)(v,{href:"/bp/findlevel/".concat(this.props.pass),className:"doQuiz",children:"Find your level"})]})}):null}}]),s}(a.Component),C=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(w,{selected:"bp"}),[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16].map((function(e){return Object(x.jsx)(S,{pass:e})}))]})}}]),s}(a.Component),_=s(25),N=(s(56),function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"section",style:{top:this.props.first.y-30,left:"0px",width:"100vw",height:"650px",overflowX:"auto",overflowY:"visible"},children:[this.props.data.name!==this.props.prevsect?Object(x.jsx)("p",{style:{position:"absolute",padding:"0px",margin:"0px",transform:"translate(0px,00px)",fontSize:"50px"},children:this.props.data.name}):null,this.props.items,Object(x.jsx)("div",{style:{left:"".concat(this.props.last.x-this.props.first.x+this.props.last.size[0]+100,"px"),height:"50px",position:"absolute"}})]})}}]),s}(a.Component)),I=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){var e=function(e){return 180*e/Math.PI};if(this.props.data.newDisplayAsset){var t=this.props.data.newDisplayAsset.materialInstances[this.props.index],s=t.flags||{};return Object(x.jsxs)("div",{className:"".concat(this.props.owned?"owned ":"","item ").concat(this.props.data.tileSize," ").concat((this.props.data.items[0].series||{}).backendValue||this.props.data.items[0].rarity.value).concat(s.bIsCreatorCollabSeries?" doIcon":"").concat(s.bIsDCUSeries?" doNoise":"").concat(s.bIsPlatformSeries?" doGamingLegends":"").concat(s.bIsMarvelSeries?" doMarvel":"").concat(!1!==s.IsCharacter?" character":""),style:{top:this.props.data.y-this.props.first.y+80,left:this.props.data.x-this.props.first.x+50,"--height":this.props.data.size[1]+"px","--width":this.props.data.size[0]+"px","--offerURL":"url(".concat(t.images.OfferImage,")"),"--Zoom2":t.scalings.Scale_Compensation||0,"--Zoom1":t.scalings.ZoomImage_Percent||0,"--xoffset":t.scalings.OffsetImage_X||0,"--yoffset":t.scalings.OffsetImage_Y||0,"--yoffsetcom":t.scalings.OffsetImage_Y_Compensation||0,"--max-size":Math.max.apply(Math,Object(m.a)(this.props.data.size))+"px","--min-size":Math.min.apply(Math,Object(m.a)(this.props.data.size))+"px","--gradient-size":t.scalings.Gradient_Size||0,"--gradient-x":t.scalings.Gradient_Position_X||0,"--gradient-y":t.scalings.Gradient_Position_Y||0,"--gradient-hardness":t.scalings.Gradient_Hardness||0,"--gradient-color-out":"#"+(t.colors.ColorCircuitBackground?"000":t.colors.Background_Color_A).substring(0,6),"--gradient-color-in":"#"+(t.colors.ColorCircuitBackground||t.colors.Background_Color_B).substring(0,6),"--spotlight-size":t.scalings.Spotlight_Size||0,"--spotlight-x":t.scalings.Spotlight_Position_X||0,"--spotlight-y":t.scalings.Spotlight_Position_Y||0,"--spotlight-strength":t.scalings.Spotlight_Intensity||0,"--spotlight-hardness":t.scalings.Spotlight_Hardness||0,"--marvel-angle":e(t.scalings["Streak Angle"])+"deg","--circuit-bg-1":"#"+(t.colors.ColorCircuitBackground||"").substring(0,6),"--circuit-bg-2":"#"+(t.colors.ColorCircuitBackground2||"").substring(0,6),"--circuit-dots":"#"+(t.colors.ColorCircuitDots||"").substring(0,6),"--circuit-highlight":"#"+(t.colors.ColorCircuitHighlights||"").substring(0,6),"--circuit-lines-1":"#"+(t.colors.ColorCircuitLines||"").substring(0,6),"--circuit-lines-2":"#"+(t.colors.ColorCircuitLines2||"").substring(0,6),"--circuit-size":t.scalings.SizeCircuitPattern,"--circuit-skew":e(t.scalings.Skew),"--last-seen":"'"+this.props.lastSeenString+"'"},children:[Object(x.jsx)("div",{className:"clickDetect"}),Object(x.jsxs)("div",{className:"background",children:[Object(x.jsx)("div",{className:"gradient"}),Object(x.jsx)("div",{className:"gradient bright"}),Object(x.jsx)("div",{className:"falloff"}),Object(x.jsx)("div",{className:"SpecialEffects1"}),Object(x.jsx)("div",{className:"SpecialEffects2"}),Object(x.jsx)("div",{className:"SpecialEffects3"}),Object(x.jsx)("div",{className:"SpecialEffects4"}),Object(x.jsx)("div",{className:"SpecialEffects5"}),Object(x.jsx)("div",{className:"SpecialEffects6"})]}),Object(x.jsx)("div",{className:"offer"}),Object(x.jsx)("div",{className:"rarity"}),Object(x.jsx)("div",{className:"nameSegment",children:Object(x.jsx)("p",{children:(this.props.data.bundle||this.props.data.items[0]).name})}),Object(x.jsxs)("div",{className:"cost",children:[Object(x.jsxs)("p",{children:[Object(x.jsx)("del",{children:this.props.data.finalPrice!==this.props.data.regularPrice?this.props.data.regularPrice.toLocaleString(void 0):""}),"\xa0\xa0\xa0",this.props.data.finalPrice.toLocaleString(void 0)]}),Object(x.jsx)("img",{src:"https://fortnite-api.com/images/vbuck.png",alt:"V-Bucks"})]})]})}return null}}]),s}(a.Component),L=s(7),D=s(10),E=s(20),A=new E.a,z={all:null,callAfterAllLoaded:function(){return null},owned:[],mappings:[],selected:{skin:"CID_764_Athena_Commando_F_Loofah",backbling:"BID_527_Loofah",pickaxe:"Pickaxe_ID_399_LoofahFemale1H",glider:"Glider_ID_118_Squishy",contrail:"Trails_ID_088_Informer",emote1:"EID_Loofah",emote2:"EID_Loofah",emote3:"EID_Loofah",emote4:"EID_Loofah",emote5:"EID_Loofah",emote6:"EID_Loofah",wrap:"Wrap_263_RainbowLava",music:"MusicPack_065_FortlishRap",loadingscreen:"LSID_120_Ashton"},settings:{allowCookies:"true"===A.get("allowCookies"),showLastSeen:"true"===A.get("showLastSeen"),trackOwned:"true"===A.get("trackOwned")}};if(z.settings.trackOwned)for(var P=0,M=["skin","backbling","pickaxe","glider","contrail","emote1","emote2","emote3","emote4","emote5","emote6","wrap","music","loadingscreen"];P<M.length;P++){var F=M[P],T=A.get("locker.selected.".concat(F));T&&(z.selected[F]=T)}var R=function(e,t){return Object.assign.apply(Object,[{}].concat(Object(m.a)(e.map((function(e){return Object(D.a)({},e[t].toLowerCase(),e)})))))},Y=["EFortRarity::Common","EFortRarity::Unommon","EFortRarity::Rare","EFortRarity::Epic","EFortRarity::Legendary","EFortRarity::Mythic"];z.sortorder=function(e,t){var s=z.all[e.toLowerCase()],a=z.all[t.toLowerCase()];return(s.series||"z").toLowerCase().localeCompare((a.series||"z").toLowerCase())||Y.indexOf(a.backendRarity)-Y.indexOf(s.backendRarity)||s.name.toLowerCase().localeCompare(a.name.toLowerCase())},k.a.getJSON("https://fortnite-api.com/cosmetics/br").then((function(e){z.all=R(e.data,"id"),z.skins=Object.fromEntries(Object.entries(z.all).filter((function(e){var t=Object(L.a)(e,2);t[0];return"outfit"===t[1].type}))),z.backblings=Object.fromEntries(Object.entries(z.all).filter((function(e){var t=Object(L.a)(e,2),s=(t[0],t[1]);return"backpack"===s.type||"pet"===s.type||"petcarrier"===s.type}))),z.pickaxes=Object.fromEntries(Object.entries(z.all).filter((function(e){var t=Object(L.a)(e,2);t[0];return"pickaxe"===t[1].type}))),z.gliders=Object.fromEntries(Object.entries(z.all).filter((function(e){var t=Object(L.a)(e,2);t[0];return"glider"===t[1].type}))),z.contrails=Object.fromEntries(Object.entries(z.all).filter((function(e){var t=Object(L.a)(e,2);t[0];return"contrail"===t[1].type}))),z.emotes=Object.fromEntries(Object.entries(z.all).filter((function(e){var t=Object(L.a)(e,2),s=(t[0],t[1]);return"emote"===s.type||"emoji"===s.type||"spray"===s.type||"toy"===s.type}))),z.music=Object.fromEntries(Object.entries(z.all).filter((function(e){var t=Object(L.a)(e,2);t[0];return"music"===t[1].type}))),z.wraps=Object.fromEntries(Object.entries(z.all).filter((function(e){var t=Object(L.a)(e,2);t[0];return"wrap"===t[1].type}))),z.loadingscreens=Object.fromEntries(Object.entries(z.all).filter((function(e){var t=Object(L.a)(e,2);t[0];return"loadingscreen"===t[1].type})));var t=R(e.data,"name");z.keys=Object.keys(t).sort().map((function(e){return(e=t[e]).description?"banner"===e.type?null:{name:e.name,value:e.id}:null})).filter((function(e){return e})),k.a.getJSON("/mappings.json").then(function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z.mappings=t.data,z.settings.trackOwned&&(z.owned=z.fromLocalStorage(localStorage.getItem("OwnedItems")),z.owned=z.owned.sort(z.sortorder)),z.callAfterAllLoaded();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),z.idFromItem=function(e){return z.mappings.indexOf(e)},z.itemFromId=function(e){return z.mappings[e]};z.digits="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_",z.fromLocalStorage=function(e){return[].concat.apply([],e.split("").map((function(e){return z.digits.indexOf(e).toString(2).padStart(6,"0").split("")}))).map((function(e,t){return"1"===e?z.mappings[t]:null})).filter((function(e){return e}))},z.toLocalStorage=function(e){var t,s=e.map((function(e){return z.mappings.map((function(e){return e.toLowerCase()})).indexOf(e.toLowerCase())})),a=new Array(6*Math.ceil(z.mappings.length/6)).fill(0);return s.forEach((function(e){return a[e]=1})),(t=a,t.map((function(e,s){return s%6===0?t.slice(s,s+6):null})).filter((function(e){return e}))).map((function(e){return z.digits[parseInt(e.join(""),2)]})).join("")};var B=z,q=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(e){var a;Object(o.a)(this,s);var n,i;return(a=t.call(this,e)).state={data:e.data,owned:(n=e.data.items.map((function(e){return e.id})),i=B.owned,n.every((function(e){return i.includes(e)}))),rerender:a.props.render},a.clicked=a.clicked.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"clicked",value:function(){console.log(B.owned),console.log(this.state.owned);var e=this.state.data.items.map((function(e){return e.id}));this.state.owned?B.owned=B.owned.filter((function(t){return!e.includes(t)})):(B.owned=B.owned.filter((function(t){return!e.includes(t)})).concat(e),console.log(B.owned.filter((function(t){return!e.includes(t)})).concat(e))),B.owned=B.owned.sort(B.sortorder),B.settings.trackOwned&&localStorage.setItem("OwnedItems",B.toLocalStorage(B.owned)),this.state.rerender()}},{key:"componentDidUpdate",value:function(){var e=function(e,t){return e.every((function(e){return t.includes(e)}))};e(this.state.data.items.map((function(e){return e.id})),B.owned)!==this.state.owned&&this.setState({owned:e(this.state.data.items.map((function(e){return e.id})),B.owned)})}},{key:"render",value:function(){var e=this.props.data.banner,t=this.props.data,s=t.items[0].shopHistory,a=new Date;a.setUTCHours(0,0,0,0);var n=1===s.length?a:new Date(s[s.length-2]),i=(a.getTime()-n.getTime())/864e5,r="";r=0===i?"New item":1===i?"Yesterday":"".concat(i,"d ago"),this.props.lastseen||(r="");var o,l={scalings:{}};return this.props.data.newDisplayAsset?Object(x.jsxs)("div",{onClick:this.clicked,children:[Object(x.jsx)(I,Object(c.a)({owned:this.state.owned,lastSeenString:r,index:this.props.n%this.props.data.newDisplayAsset.materialInstances.length},this.props)),e?Object(x.jsx)("div",{style:{top:this.props.data.y-this.props.first.y+80,left:this.props.data.x-this.props.first.x+50},className:"banner ".concat(e.intensity),children:e.value}):null]}):Object(x.jsxs)("div",{onClick:this.clicked,children:[Object(x.jsxs)("div",{className:"".concat(this.state.owned?"owned ":"","item ").concat(this.props.data.tileSize," ").concat((this.props.data.items[0].series||{}).backendValue||this.props.data.items[0].rarity.value," ").concat("CreatorCollabSeries"===((this.props.data.items[0].series||{}).backendValue||this.props.data.items[0].rarity.value)?"doIcon":""),style:{top:this.props.data.y-this.props.first.y+80,left:this.props.data.x-this.props.first.x+50,"--height":"".concat(t.size[1],"px"),"--width":"".concat(t.size[0],"px"),"--offerURL":"url(".concat(t.items[0].images.icon,")"),"--Zoom2":l.scalings.Scale_Compensation||0,"--Zoom1":l.scalings.ZoomImage_Percent||0,"--xoffset":l.scalings.OffsetImage_X||0,"--yoffset":l.scalings.OffsetImage_Y||0,"--yoffsetcom":l.scalings.OffsetImage_Y_Compensation||0,"--max-size":Math.max.apply(Math,Object(m.a)(this.props.data.size))+"px","--min-size":Math.min.apply(Math,Object(m.a)(this.props.data.size))+"px","--gradient-size":l.scalings.Gradient_Size||75,"--gradient-x":l.scalings.Gradient_Position_X||50,"--gradient-y":l.scalings.Gradient_Position_Y||33,"--gradient-hardness":0,"--gradient-color-in":"#89d8ff","--gradient-color-out":"#237fd5","--spotlight-size":l.scalings.Spotlight_Size||100,"--spotlight-x":l.scalings.Spotlight_Position_X||-100,"--spotlight-y":l.scalings.Spotlight_Position_Y||-100,"--spotlight-strength":l.scalings.Spotlight_Intensity||100,"--spotlight-hardness":l.scalings.Spotlight_Hardness||50,"--marvel-angle":(o=l.scalings["Streak Angle"],180*o/Math.PI+"deg"),"--last-seen":"'"+r+"'"},children:[Object(x.jsx)("div",{className:"clickDetect"}),Object(x.jsxs)("div",{className:"background",children:[Object(x.jsx)("div",{className:"gradient"}),Object(x.jsx)("div",{className:"gradient bright"}),Object(x.jsx)("div",{className:"falloff"}),Object(x.jsx)("div",{className:"SpecialEffects1"}),Object(x.jsx)("div",{className:"SpecialEffects2"}),Object(x.jsx)("div",{className:"SpecialEffects3"}),Object(x.jsx)("div",{className:"SpecialEffects4"}),Object(x.jsx)("div",{className:"SpecialEffects5"}),Object(x.jsx)("div",{className:"SpecialEffects6"})]}),Object(x.jsx)("div",{className:"offer"}),Object(x.jsx)("div",{className:"rarity"}),Object(x.jsx)("div",{className:"nameSegment",children:Object(x.jsx)("p",{children:(this.props.data.bundle||this.props.data.items[0]).name})}),Object(x.jsxs)("div",{className:"cost",children:[Object(x.jsxs)("p",{children:[Object(x.jsx)("del",{children:this.props.data.finalPrice!==this.props.data.regularPrice?this.props.data.regularPrice.toLocaleString(void 0):""}),"\xa0\xa0\xa0",this.props.data.finalPrice.toLocaleString(void 0)]}),Object(x.jsx)("img",{src:"https://fortnite-api.com/images/vbuck.png",alt:"V-Bucks"})]})]}),e?Object(x.jsx)("div",{style:{top:this.props.data.y-this.props.first.y+80,left:this.props.data.x-this.props.first.x+50},className:"banner ".concat(e.intensity),children:e.value}):null]})}}]),s}(a.Component),G=s(63),U=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).state={data:{},n:0},e.rerender=e.rerender.bind(Object(g.a)(e)),e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;console.log("Getting JSON"),k.a.getJSON("https://fortnite-api.com/v2/shop/br").then((function(t){console.log(t);var s={entries:[]},a=((t=t.data).featured||s).entries,n=(t.daily||s).entries,i=(t.specialFeatured||s).entries,r=(t.specialDaily||s).entries;t.items=[].concat(a,n,r,i),t.featured=null,t.daily=null,t.specialFeatured=null,t.specialDaily=null;var c=0,o=0,l="",d=0,p=!0,h=0,u={Normal:[320,550],Small:[320,Math.floor(262.5)],DoubleWide:[665,550]};t.items=Object.values(G.groupBy(t.items,(function(e){return e.section.id}))).sort((function(e,t){return e[0].section.index-t[0].section.index})).map((function(e){return e.sort((function(e,t){return t.sortPriority-e.sortPriority}))}));var j,f=Object(_.a)(t.items);try{for(f.s();!(j=f.n()).done;){var b,m=j.value,O=Object(_.a)(m);try{for(O.s();!(b=O.n()).done;){var g=b.value,x=0;l!==g.section.id&&(l=g.section.id,p||(h+=1,c=0,o+=u.Normal[1]+100,d=0)),console.log((g.bundle||g.items[0]).name),"Small"===g.tileSize&&(x=d*(u.Small[1]+25)),g.x=c+50,g.y=o+x+230,g.size=u[g.tileSize],"Small"===g.tileSize?0===(d=1-d)&&(c+=u[g.tileSize][0]+25):c+=u[g.tileSize][0]+25,p=!1}}catch(v){O.e(v)}finally{O.f()}}}catch(v){f.e(v)}finally{f.f()}e.setState({data:t,height:100*h+window.innerHeight})}))}},{key:"componentDidUpdate",value:function(){setTimeout(function(){this.setState({n:this.state.n+1})}.bind(this),2e3)}},{key:"componentWillUnmount",value:function(){for(var e=window.setTimeout((function(){}),0);e--;)window.clearTimeout(e)}},{key:"rerender",value:function(){for(var e=window.setTimeout((function(){}),0);e--;)window.clearTimeout(e);console.log(B),this.forceUpdate()}},{key:"render",value:function(){var e=this;console.log("RENDER APP");var t=this.state.n,s=B.settings.showLastSeen;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(w,{selected:"shop"}),Object(x.jsx)("div",{id:"sizeSetter",style:{height:this.state.height},children:Object(x.jsx)("div",{className:"lagreduce",children:Object(x.jsx)("div",{className:"App",id:"App",style:{transform:"translateY(calc(0px - 600px + 50vh))"},children:this.state.data.items?this.state.data.items.map((function(a,n,i){return Object(x.jsx)(N,{data:a[0].section,first:a[0],last:a[a.length-1],prevsect:0===n?"":i[n-1][0].section.name,items:a.sort((function(e,t){return t.sortPriority-e.sortPriority})).map((function(n){return Object(x.jsx)(q,{render:e.rerender,lastseen:s,data:n,n:t,first:a[0]})}))})})):Object(x.jsx)(x.Fragment,{})})})})]})}}]),s}(n.a.Component),H=new E.a,J=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).state=B.settings,a.handleInputChange=a.handleInputChange.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"handleInputChange",value:function(e){var t=this,s=e.target,a="checkbox"===s.type?s.checked:s.value,n=s.name;if(console.log(n,a),this.state.allowCookies||"allowCookies"===n){var i=new Date,r=new Date;console.log("setting one cookie"),r.setFullYear(i.getFullYear()+1),H.remove(n,{path:"/"}),H.set(n,a,{path:"/",expires:r}),"allowCookies"===n&&!1===a&&(H.remove("allowCookies",{path:"/"}),H.remove("showLastSeen",{path:"/"})),"allowCookies"===n&&!0===a&&(console.log("set cookies now"),H.set("showLastSeen",this.state.showLastSeen,{path:"/",expires:r}),H.set("trackOwned",this.state.trackOwned,{path:"/",expires:r}))}this.setState(Object(D.a)({},n,a),(function(){B.settings=t.state}))}},{key:"render",value:function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(w,{selected:"settings"}),Object(x.jsxs)("div",{className:"FormStuff",children:[Object(x.jsxs)("label",{children:["Show last seen date:",Object(x.jsx)("input",{name:"showLastSeen",type:"checkbox",checked:this.state.showLastSeen,onChange:this.handleInputChange})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("label",{children:["Use cookies:",Object(x.jsx)("input",{name:"allowCookies",type:"checkbox",checked:this.state.allowCookies,onChange:this.handleInputChange})]})]}),this.state.allowCookies?Object(x.jsx)("div",{className:"FormStuff",children:Object(x.jsxs)("label",{children:["Track owned cosmetics:",Object(x.jsx)("input",{name:"trackOwned",type:"checkbox",checked:this.state.trackOwned,onChange:this.handleInputChange})]})}):Object(x.jsx)("div",{className:"FormStuff",children:Object(x.jsxs)("p",{children:["Cookies are used on this website to track your settings.",Object(x.jsx)("br",{}),"With cookies off, settings that don't store data will be available, but your preferences will be lost if you leave or refresh the page.",Object(x.jsx)("br",{}),"All cookies that may be used by the site at this time:",Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:"allowCookies"}),Object(x.jsx)("li",{children:"showLastSeen"}),Object(x.jsx)("li",{children:"trackOwned"}),Object(x.jsx)("li",{children:"locker.selected.*"})]})]})})]})}}]),s}(a.Component),W=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){var e=this.props.data||{images:{icon:{}}};return Object(x.jsxs)("div",{className:"lockerItem ".concat(this.props.small?"small ":"").concat(this.props.mainscreen?"mainscreen ":"").concat(e.backendSeries||e.rarity).concat({PlatformSeries:" doGamingLegends",DCUSeries:" doNoise",CreatorCollabSeries:" doIcon",MarvelSeries:" doMarvel"}[e.backendSeries||e.rarity]||""),style:{"--image":"url('".concat((e.images.icon||e.images.smallIcon).url,"')"),"--circuit-bg-1":"#a335a0","--circuit-bg-2":"#0059ff","--circuit-dots":"#a56dff","--circuit-highlight":"#0077ff","--circuit-lines-1":"#4b00a5","--circuit-lines-2":"#bdadff","--circuit-size":.3,"--circuit-skew":-7.16197,"--height":"150px","--width":"150px","--max-size":"150px","--min-size":"150px","--gradient-color-in":"#0075e9","--graidient-color-out":"#0075e9","--marvel-angle":"0.6rad"},children:[Object(x.jsx)("div",{className:"rarity raritylocker bottom"}),Object(x.jsx)("div",{className:"rarity raritylocker top"}),Object(x.jsx)("div",{className:"lockerpic"}),Object(x.jsxs)("div",{className:"background",children:[Object(x.jsx)("div",{className:"SpecialEffects1"}),Object(x.jsx)("div",{className:"SpecialEffects2"}),Object(x.jsx)("div",{className:"SpecialEffects3"}),Object(x.jsx)("div",{className:"SpecialEffects4"})]})]})}}]),s}(a.Component),X=s(67),V=s(33),Z=s.n(V),Q=(s(57),s(58),new E.a);function K(e){var t=new Z.a(e,{keys:["name","groupName","items.name"],threshold:.3});return function(e){return e.length<2?[]:t.search(e)}}var $=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).linkClicked=e.linkClicked.bind(Object(g.a)(e)),e}return Object(l.a)(s,[{key:"linkClicked",value:function(e){e.preventDefault();var t=new Date;t.setFullYear(t.getFullYear()+1),console.log("locker.selected.".concat(this.props.parent.props.store),this.props.id),Q.remove("locker.selected.".concat(this.props.parent.props.store),{path:"/"}),Q.set("locker.selected.".concat(this.props.parent.props.store),this.props.id,{path:"/",expires:t}),B.selected[this.props.parent.props.store]=this.props.id,j.push(this.props.href)}},{key:"render",value:function(){return Object(x.jsx)("a",{onClick:this.linkClicked,href:this.props.href,className:this.props.className,style:this.props.style,children:this.props.children})}}]),s}(a.Component),ee=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(o.a)(this,s),a=t.call(this,e),B.callAfterAllLoaded=function(){return setTimeout((function(){return a.setState({render:a.state.render+1})}),1e3)},a.state={all:{},owned:[],toAdd:"",selected:{skin:"CID_764_Athena_Commando_F_Loofah",backbling:"BID_527_Loofah",pickaxe:"Pickaxe_ID_399_LoofahFemale1H",glider:"Glider_ID_118_Squishy",contrail:"Trails_ID_088_Informer",emote1:"EID_Loofah",emote2:"EID_Loofah",emote3:"EID_Loofah",emote4:"EID_Loofah",emote5:"EID_Loofah",emote6:"EID_Loofah",wrap:"Wrap_263_RainbowLava",music:"MusicPack_065_FortlishRap",loadingscreen:"LSID_120_Ashton"},type:""},a.setToAdd=a.setToAdd.bind(Object(g.a)(a)),a.updateToAdd=a.updateToAdd.bind(Object(g.a)(a)),a.removeToAdd=a.removeToAdd.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"updateToAdd",value:function(e){console.log(e),this.setState({toAdd:e})}},{key:"setToAdd",value:function(e){B.owned.push(this.state.toAdd),this.setState({toAdd:""}),B.owned=B.owned.sort(B.sortorder),B.settings.trackOwned&&(localStorage.setItem("OwnedItems",B.toLocalStorage(B.owned)),console.log(B.owned),console.log(B.toLocalStorage(B.owned)))}},{key:"removeToAdd",value:function(e){var t=this;B.owned=B.owned.filter((function(e){return e.toLowerCase()!==t.state.toAdd.toLowerCase()})),this.setState({toAdd:""}),B.owned=B.owned.sort(B.sortorder),B.settings.trackOwned&&(localStorage.setItem("OwnedItems",B.toLocalStorage(B.owned)),console.log(B.owned),console.log(B.toLocalStorage(B.owned)))}},{key:"componentDidMount",value:function(){var e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("NEW");case 1:if(B.hasOwnProperty("all")){e.next=6;break}return e.next=4,new Promise((function(e){return setTimeout(e,1e3)}));case 4:e.next=1;break;case 6:if(B.hasOwnProperty("owned")){e.next=11;break}return e.next=9,new Promise((function(e){return setTimeout(e,1e3)}));case 9:e.next=6;break;case 11:if(B.hasOwnProperty("selected")){e.next=16;break}return e.next=14,new Promise((function(e){return setTimeout(e,1e3)}));case 14:e.next=11;break;case 16:console.log("RENDER"),this.setState({all:B.all,owned:B.owned,selected:B.selected});case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.type!==this.props.type&&this.setState({type:this.props.type});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;console.log(B.owned);var t=["skin","backbling","pickaxe","glider","contrail"],s=["contrail","emote6"];return B.all?(console.log(B),Object(x.jsxs)("div",{className:"lockerpage",children:[Object(x.jsx)(w,{selected:"locker"}),Object(x.jsx)("div",{className:"lockerItems",children:this.props.type?B.owned.map((function(t){var s=B[e.props.type][t.toLowerCase()];return s?Object(x.jsx)($,{parent:{props:e.props},id:t,href:"/locker",children:Object(x.jsx)(W,{data:s},t)},t):null})).filter((function(e){return e})):Object(x.jsxs)(x.Fragment,{children:[["skin","backbling","pickaxe","glider","contrail","emote1","emote2","emote3","emote4","emote5","emote6","wrap","music","loadingscreen"].map((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)(v,{href:"/locker/".concat(e),children:Object(x.jsx)(W,{mainscreen:!0,small:!t.includes(e),data:B.all[B.selected[e].toString().toLowerCase()]})}),s.includes(e)?Object(x.jsx)("br",{},"".concat(e,".br")):null]},e)})),Object(x.jsx)("div",{className:"searcher",children:Object(x.jsx)(X.a,{emptyMessage:"No cosmetics fit the search. For performance reasons, no results are shown for empty or single-character searches.",filterMaxResults:1,options:B.keys,search:!0,filterOptions:K,placeholder:"Select a Skin",value:this.state.toAdd,onChange:this.updateToAdd})}),this.state.toAdd&&!B.owned.map((function(e){return e.toLowerCase()})).includes(this.state.toAdd.toLowerCase())?Object(x.jsx)("button",{onClick:this.setToAdd,children:"Add cosmetic"}):null,this.state.toAdd&&B.owned.map((function(e){return e.toLowerCase()})).includes(this.state.toAdd.toLowerCase())?Object(x.jsx)("button",{className:"red",onClick:this.removeToAdd,children:"Remove cosmetic"}):null]})})]})):null}}]),s}(a.Component),te=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).state={data:null,checkable:null,possible:null,first:!0,question:"",render:0},a.nextStep=a.nextStep.bind(Object(g.a)(a)),a.finish=a.finish.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=Object(O.a)(b.a.mark((function e(){var t=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B.callAfterAllLoaded=function(){return t.setState({render:1})},k.a.getJSON("/bp".concat(this.props.match.params.pass,".json")).then((function(e){var s=e;s.rewards=s.rewards.filter((function(e){return e.item.id})).filter((function(e){return"V-bucks"!==e.item.name})).filter((function(e){return"misc"!==e.item.type.id})).filter((function(e){return"cosmeticvariant"!==e.item.type.id})).filter((function(e){return"bannertoken"!==e.item.type.id})).filter((function(e){return"itemaccess"!==e.item.type.id})),t.setState({data:s,checkable:Object(m.a)(new Set(s.rewards.map((function(e){return e.tier})))),possible:Object(m.a)(new Set(s.rewards.map((function(e){return e.tier})))),question:s.rewards[s.rewards.length-1],first:!0,level:0,finished:!1,biggestlevel:0})}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"finish",value:function(){var e=this,t=this.state.data.rewards.filter((function(t){return t.tier<=e.state.level})).map((function(e){return e.item.id}));B.owned=B.owned.filter((function(t){return!e.state.data.rewards.map((function(e){return e.item.id})).includes(t)})).concat(t).sort(B.sortorder),localStorage.setItem("OwnedItems",B.toLocalStorage(B.owned)),j.push("/bp")}},{key:"nextStep",value:function(e){var t=this;if(e){var s=this.state.possible.filter((function(e){return e>t.state.question.tier}));0===s.length?(console.log(this.state.checkable.concat([101])),console.log(this.state.checkable.concat([101]).filter((function(e){return e>t.state.question.tier}))),this.setState({level:this.state.question.tier,finished:!0,biggestlevel:this.state.checkable.concat([101]).filter((function(e){return e>t.state.question.tier}))[0]-1})):this.setState({possible:s,first:!1,question:this.state.data.rewards.filter((function(e){return e.tier===s[Math.floor(s.length/2)]}))[0],level:this.state.question.tier})}else{var a=this.state.possible.filter((function(e){return e<t.state.question.tier}));0===a.length?(console.log(this.state.checkable.concat([101])),this.setState({finished:!0,biggestlevel:this.state.checkable.concat([101]).filter((function(e){return e>t.state.level}))[0]-1})):this.setState({possible:a,first:!1,question:this.state.data.rewards.filter((function(e){return e.tier===a[Math.floor(a.length/2)]}))[0]})}}},{key:"render",value:function(){var e=this;return this.state.data&&B.all?(console.log(this.state.question),this.state.finished?Object(x.jsxs)("div",{style:{width:"100vw"},className:"allowWrap",children:[Object(x.jsxs)("p",{children:["That's all!",Object(x.jsx)("br",{}),"You reached ",this.state.level===this.state.biggestlevel?"Level ".concat(this.state.level):"Between levels "+this.state.level+" and "+this.state.biggestlevel," in ",this.state.data.displayInfo.chapterSeason]}),this.state.data.rewards.filter((function(t){return t.tier<=e.state.level})).map((function(e){return Object(x.jsx)(W,{data:B.all[e.item.id.toLowerCase()]})})),Object(x.jsx)("button",{onClick:this.finish,className:"yes",style:{width:"100vw",height:"fit-content"},children:Object(x.jsx)("h1",{children:"Add all of these to my locker."})})]}):Object(x.jsxs)("div",{children:[this.state.first?Object(x.jsxs)("p",{children:["Check if a series of items are in your locker, and the level you reached in ",this.state.data.displayInfo.chapterSeason," Will be calculated. Here's your first question:"]}):null,Object(x.jsx)(W,{data:B.all[this.state.question.item.id.toLowerCase()]}),Object(x.jsxs)("p",{children:['Is "',B.all[this.state.question.item.id.toLowerCase()].name,'" in your locker?']}),Object(x.jsx)("button",{className:"yes",onClick:function(t){return e.nextStep(!0)},children:Object(x.jsx)("p",{children:"Yes"})}),Object(x.jsx)("button",{className:"no",onClick:function(t){return e.nextStep(!1)},children:Object(x.jsx)("p",{children:"no"})})]})):null}}]),s}(a.Component);function se(){var e=Object(h.d)();return Object(x.jsxs)(h.c,{children:[Object(x.jsx)(h.a,{path:"".concat(e.path,"/skin"),children:Object(x.jsx)(ee,{type:"skins",store:"skin"})}),Object(x.jsx)(h.a,{path:"".concat(e.path,"/backbling"),children:Object(x.jsx)(ee,{type:"backblings",store:"backbling"})}),Object(x.jsx)(h.a,{path:"".concat(e.path,"/pickaxe"),children:Object(x.jsx)(ee,{type:"pickaxes",store:"pickaxe"})}),Object(x.jsx)(h.a,{path:"".concat(e.path,"/glider"),children:Object(x.jsx)(ee,{type:"gliders",store:"glider"})}),Object(x.jsx)(h.a,{path:"".concat(e.path,"/contrail"),children:Object(x.jsx)(ee,{type:"contrails",store:"contrail"})}),Object(x.jsx)(h.a,{path:"".concat(e.path,"/emote1"),children:Object(x.jsx)(ee,{type:"emotes",store:"emote1"})}),Object(x.jsx)(h.a,{path:"".concat(e.path,"/emote2"),children:Object(x.jsx)(ee,{type:"emotes",store:"emote2"})}),Object(x.jsx)(h.a,{path:"".concat(e.path,"/emote3"),children:Object(x.jsx)(ee,{type:"emotes",store:"emote3"})}),Object(x.jsx)(h.a,{path:"".concat(e.path,"/emote4"),children:Object(x.jsx)(ee,{type:"emotes",store:"emote4"})}),Object(x.jsx)(h.a,{path:"".concat(e.path,"/emote5"),children:Object(x.jsx)(ee,{type:"emotes",store:"emote5"})}),Object(x.jsx)(h.a,{path:"".concat(e.path,"/emote6"),children:Object(x.jsx)(ee,{type:"emotes",store:"emote6"})}),Object(x.jsx)(h.a,{path:"".concat(e.path,"/wrap"),children:Object(x.jsx)(ee,{type:"wraps",store:"wrap"})}),Object(x.jsx)(h.a,{path:"".concat(e.path,"/music"),children:Object(x.jsx)(ee,{type:"music",store:"music"})}),Object(x.jsx)(h.a,{path:"".concat(e.path,"/loadingscreen"),children:Object(x.jsx)(ee,{type:"loadingscreens",store:"loadingscreen"})}),Object(x.jsx)(h.a,{path:e.path,children:Object(x.jsx)(ee,{})})]})}var ae=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(x.jsx)(h.b,{history:j,children:Object(x.jsxs)(h.c,{children:[Object(x.jsx)(h.a,{exact:!0,path:"/",children:Object(x.jsx)(U,{})}),Object(x.jsx)(h.a,{path:"/options",children:Object(x.jsx)(J,{})}),Object(x.jsx)(h.a,{path:"/locker",children:Object(x.jsx)(se,{})}),Object(x.jsx)(h.a,{exact:!0,path:"/bp",children:Object(x.jsx)(C,{})}),Object(x.jsx)(h.a,{exact:!0,path:"/bp/findlevel/:pass",component:function(e){return Object(x.jsx)(te,Object(c.a)({},e))}})]})})}}]),s}(a.Component),ne=+new Date,ie=0;k()("*").on("wheel",(function(e){if(!document.getElementById("App"))return null;var t={x:e.originalEvent.deltaX,y:e.originalEvent.deltaY},s=+new Date;if(0!==t.y){if(s-ne>500){ne=s;var a=Math.round(t.y/Math.abs(t.y));ie+=a,console.log(ie,window.scrollY),ie=Math.max(0,ie),ie=Math.min(ie,k()("#App").children().length-1)}document.getElementById("App").style.transform="translateY(calc(".concat(-650*ie-600,"px + 50vh))"),window.scrollTo({top:100*ie})}})),r.a.render(Object(x.jsxs)(n.a.StrictMode,{children:[Object(x.jsx)("svg",{className:"hideSvgSoThatItSupportsFirefox",style:{height:0},children:Object(x.jsxs)("filter",{id:"sharpBlur",children:[Object(x.jsx)("feGaussianBlur",{stdDeviation:"5"}),Object(x.jsx)("feColorMatrix",{type:"matrix",values:"1 0 0 0 0, 0 1 0 0 0, 0 0 1 0 0, 0 0 0 9 0"}),Object(x.jsx)("feComposite",{in2:"SourceGraphic",operator:"in"})]})}),Object(x.jsx)(ae,{})]}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.60c72826.chunk.js.map